# NSJail Hardened Profile for LCL Secure Lab
# Purpose: High-isolation sandbox for untrusted AI model execution.

name: "lcl-hardened-sandbox"

description: "Strict isolation: No networking, restricted syscalls, read-only root."

# Global timeout for any task (seconds)
time_limit: 600

# Memory limit
rlimit_as: 4096

# CPU limit (shares)
rlimit_cpu: 60

# Max number of processes
max_cpus: 1

# Networking: Disabled
use_all_ns: true

# Mounts
mount {
	src: "/"
	dst: "/"
	is_bind: true
	rw: false
}

mount {
	src: "/tmp"
	dst: "/tmp"
	is_bind: true
	rw: true
}

mount {
	dst: "/proc"
	fstype: "proc"
}

# User and Group mapping (Nobody)
uidmap {
	inside_id: "nobody"
	outside_id: "nobody"
}

gidmap {
	inside_id: "nobody"
	outside_id: "nobody"
}
